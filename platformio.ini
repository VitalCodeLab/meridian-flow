; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32-c3-devkitm-1]
platform = espressif32
board = airm2m_core_esp32c3
framework = arduino
monitor_speed = 115200
board_build.filesystem = spiffs
board_build.partitions = default.csv
lib_deps = 
	fastled/FastLED@^3.6.0
	ArduinoFFT@^1.6.0
	bblanchon/ArduinoJson@^6.21.3
; 合体版：包含 main.cpp（LED + 音频 + TCM），排除 main_led.cpp / main_tcm.cpp
build_src_filter = +<*> -<main_led.cpp> -<main_tcm.cpp>

[env:led]
platform = espressif32
board = airm2m_core_esp32c3
framework = arduino
monitor_speed = 115200
board_build.filesystem = spiffs
board_build.partitions = default.csv
lib_deps = 
	fastled/FastLED@^3.6.0
	ArduinoFFT@^1.6.0
	bblanchon/ArduinoJson@^6.21.3
; 仅编译 LED-only 入口（复用其余模块）
build_src_filter = +<main_led.cpp> +<audio_handler.cpp> +<button_handler.cpp> +<hardware_check.cpp> +<enhanced_led_controller.hpp> +<optimized_audio.hpp> +<audio_visualizer.hpp> +<webui.hpp> +<meridian.hpp> +<control.hpp>

[env:tcm]
platform = espressif32
board = airm2m_core_esp32c3
framework = arduino
monitor_speed = 115200
board_build.filesystem = spiffs
board_build.partitions = default.csv
lib_deps = 
	fastled/FastLED@^3.6.0
	ArduinoFFT@^1.6.0
	bblanchon/ArduinoJson@^6.21.3
; 仅编译 TCM-only 入口（不包含 main.cpp / main_led.cpp）
build_src_filter = +<main_tcm.cpp> +<tcm_demo.cpp> +<meridian_tcm.cpp> +<hardware_check.cpp> +<meridian_config.hpp> +<tcm_page.h> +<enhanced_led_controller.hpp> +<optimized_audio.hpp> +<audio_visualizer.hpp> +<meridian.hpp>